<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Administration Stocks</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="admin.css">
  <script src="https://cdn.jsdelivr.net/npm/pouchdb@7.3.1/dist/pouchdb.min.js"></script>
</head>
<body>
  <header>
    <div class="header-content">
      <h1>Administration des Stocks</h1>
      <div>
        <button class="logout-btn" id="logoutBtn">D√©connexion</button>
      </div>
    </div>
  </header>

  <main>
    <div class="admin-controls">
      <button id="exportBtn">Exporter en CSV</button>
      <button id="syncBtn">Synchroniser avec le serveur</button>
      <button id="deleteSelectedBtn" class="danger">Supprimer la s√©lection</button>
      <button id="deleteAllBtn" class="danger">Tout supprimer</button>
      <button id="resetFiltersBtn">R√©initialiser les filtres</button>
    </div>

    <div class="search-filter-container">
      <div class="search-container">
        <input type="text" id="searchInput" placeholder="Rechercher...">
        <button id="searchBtn">üîç</button>
      </div>
        <!-- Dans la div search-filter-container, ajoutez ces √©l√©ments -->
        <div class="search-filter-container">
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Rechercher...">
            <button id="searchBtn">üîç</button>
        </div>
        
        <!-- Filtre par date -->
        <div class="filter-container">
            <input type="date" id="dateFilter" class="filter-input">
        </div>
        
        <!-- Filtre par compte existant -->
        <div class="filter-container">
            <select id="filterSelect">
            <option value="">Tous les comptes</option>
            <option value="SCT=E382329">Compte Rotatives</option>
            <option value="SCT=E390329">Compte Exp√©dition</option>
            </select>
        </div>
        
        <!-- Nouveau filtre "√Ä commander" -->
        <div class="filter-container">
            <select id="commandeFilter">
            <option value="">√Ä commander (tous)</option>
            <option value="oui">Oui</option>
            <option value="non">Non</option>
            </select>
        </div>
        </div>
 

    <div class="stats-container">
      <div class="stat-card">
        <span class="stat-value" id="totalCount">0</span>
        <span class="stat-label">Total</span>
      </div>
      <div class="stat-card">
        <span class="stat-value" id="rotativesCount">0</span>
        <span class="stat-label">Rotatives</span>
      </div>
      <div class="stat-card">
        <span class="stat-value" id="expeditionCount">0</span>
        <span class="stat-label">Exp√©dition</span>
      </div>
      <div class="stat-card">
        <span class="stat-value" id="selectedCount">0</span>
        <span class="stat-label">S√©lectionn√©s</span>
      </div>
    </div>

    <div class="table-responsive">
      <table id="dataTable">
       <thead>
        <tr>
            <th width="40px"><input type="checkbox" id="selectAll"></th>
            <th>Date</th>
            <th>Code Produit</th>
            <th>D√©signation</th>
            <th>Quantit√©</th>
            <th>Unit√©s</th>
            <th>√Ä Commander</th>
            <th>Magasin</th>
            <th>Stock Initial</th>
            <th>Stock Final</th>
            <th>Axe 1</th>
            <th>Axe 2</th>
            <th width="100px">Actions</th>
        </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <div class="pagination-container">
      <div class="pagination-info" id="paginationInfo"></div>
      <div class="pagination-controls">
        <button id="firstPageBtn">‚èÆÔ∏è Premi√®re</button>
        <button id="prevPageBtn">‚óÄÔ∏è Pr√©c√©dente</button>
        <div class="page-numbers" id="pageNumbers"></div>
        <button id="nextPageBtn">Suivante ‚ñ∂Ô∏è</button>
        <button id="lastPageBtn">Derni√®re ‚è≠Ô∏è</button>
      </div>
    </div>
  </main>

  <div id="detailsModal" class="modal">
    <div class="modal-content">
      <span class="close-btn">&times;</span>
      <div id="modalContent"></div>
    </div>
  </div>

  <footer>
    <p>&copy; 2025 - Gestion de Stocks</p>
  </footer>

  <script src="admin.js"></script>
</body>
</html>